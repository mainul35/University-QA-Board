<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Head start -->

<!--/*/ <th:block th:include="@{includes/includes} :: head"></th:block> /*/-->

<!-- Head end -->



<body class="hold-transition skin-blue sidebar-mini">
	<div class="" style="background-color: #222d32;">

		<div id="main-header"></div>
		<script type="text/javascript">
			$("#main-header").load("/ewsd/main-header");
		</script>







		<!-- Left side column. contains the logo and sidebar -->



		<aside class="main-sidebar">
			<!-- sidebar: style can be found in sidebar.less -->
			<section class="sidebar">
				<!-- 				Sidebar user panel -->
				<div class="user-panel">
					<div class="pull-left image">
						<img th:src="@{/file(fileId=${usr.userImage.attachmentId})}"
							class="img-circle" alt="User Image">
					</div>
					<div class="pull-left info">
						<p th:text="${usr.name}"></p>
						<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
					</div>
				</div>

				<!-- 				/.search form sidebar menu: : style can be found in sidebar.less -->
				<ul class="sidebar-menu">


					<li>MAIN NAVIGATION</li>


					<li class="active"><a th:href="@{/qa_coordinator/dashboard}">
							<i class="fa fa-dashboard"></i> <span>Home</span>
					</a></li>

					<li><a th:href="@{/qa_coordinator/ideas/my-department}"> <i
							class="fa fa-dashboard"></i> <span>All ideas</span>
					</a></li>
					<li><a th:href="@{/qa_coordinator/submit-issue}"> <i
							class="fa fa-files-o"></i> <span>Submit an issue</span>
					</a></li>
					<li><a th:href="@{/qa_coordinator/view-all-issues}"> <i
							class="fa fa-files-o"></i> <span>View all issues</span>
					</a></li>
				</ul>
			</section>
			<!-- /.sidebar -->
		</aside>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					QA <small>Board</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
					<li class="active">Activity</li>
				</ol>
			</section>


			<!-- Main content -->



			<section class="content">
				<div class="row">

					<!-- /.col -->
					<div class="col-md-12">
						<div class="nav-tabs-custom">
							<ul class="nav nav-tabs">

								<li class="active"><a
									th:href="@{/qa_coordinator/activities}">My Department
										Activities</a></li>
								<li><a th:href="@{/qa_coordinator/timeline}">My
										Timeline</a></li>
								<li><a th:href="@{/qa_coordinator/post-new-idea}">Post
										an idea</a></li>
							</ul>
							<div class="tab-content">
								<div class="active tab-pane" id="activity">
									<div class="row">
										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="info-box">
												<span class="info-box-icon bg-aqua"><i
													class="fa fa-lightbulb-o"></i></span>

												<div class="info-box-content">
													<span class="info-box-text">Number of ideas</span> <span
														class="info-box-number ideas-in-number"></span>
												</div>
												<!-- /.info-box-content -->
											</div>
											<!-- /.info-box -->
											<script type="text/javascript" th:inline="javascript">
											var departmentName = /*[[${usr.department}]]*/;
											$.ajax({
												url:'/ewsd/qa_coordinator/number-of-ideas-by-department?departmentName='+departmentName,
												data:'',
												method:'GET',
												success:function(data){
													$(".ideas-in-number").text(data);
												}
											});
											setInterval(function(){
												var departmentName = /*[[${usr.department}]]*/;
												$.ajax({
													url:'/ewsd/qa_coordinator/number-of-ideas-by-department?departmentName='+departmentName,
													data:'',
													method:'GET',
													success:function(data){
														$(".ideas-in-number").text(data);
													}
												});
											}, 3000);	
											
											</script>
										</div>


										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="info-box">
												<span class="info-box-icon bg-aqua"><i
													class="fa fa-pie-chart"></i></span>

												<div class="info-box-content">
													<span class="info-box-text">Percentage of ideas</span> <span
														class="info-box-number ideas-in-percentage"></span>
												</div>
												<!-- /.info-box-content -->
											</div>
											<!-- /.info-box -->
											<script type="text/javascript" th:inline="javascript">
											var departmentName = /*[[${usr.department}]]*/;
											$.ajax({
												url:'/ewsd/qa_coordinator/percentage-of-ideas-by-department?departmentName='+departmentName,
												data:'',
												method:'GET',
												success:function(data){
													$(".ideas-in-percentage").text(data+"%");
												}
											});
											setInterval(function(){
												var departmentName = /*[[${usr.department}]]*/;
												$.ajax({
													url:'/ewsd/qa_coordinator/percentage-of-ideas-by-department?departmentName='+departmentName,
													data:'',
													method:'GET',
													success:function(data){
														$(".ideas-in-percentage").text(data+"%");
													}
												});
											}, 3000);	
											
											</script>
										</div>

										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="info-box">
												<span class="info-box-icon bg-aqua"><i
													class="fa fa-connectdevelop"></i></span>

												<div class="info-box-content">
													<span class="info-box-text">Number of Contributions</span>
													<span class="info-box-number contribution-in-number"></span>
												</div>
												<!-- /.info-box-content -->
											</div>
											<!-- /.info-box -->
											<script type="text/javascript" th:inline="javascript">
											var departmentName = /*[[${usr.department}]]*/;
											$.ajax({
												url:'/ewsd/qa_coordinator/number-of-contributions-by-department?departmentName='+departmentName,
												data:'',
												method:'GET',
												success:function(data){
													$(".contribution-in-number").text(data);
												}
											});
											setInterval(function(){
												var departmentName = /*[[${usr.department}]]*/;
												$.ajax({
													url:'/ewsd/qa_coordinator/number-of-contributions-by-department?departmentName='+departmentName,
													data:'',
													method:'GET',
													success:function(data){
														$(".contribution-in-number").text(data);
													}
												});
											}, 3000);	
											
											</script>
										</div>

										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="info-box">
												<span class="info-box-icon bg-aqua"><i
													class="fa fa-comments-o"></i></span>

												<div class="info-box-content">
													<span class="info-box-text">Ideas without a comment</span>
													<span class="info-box-number ideas-without-a-comment"></span>
												</div>
												<!-- /.info-box-content -->
											</div>
											<!-- /.info-box -->
											<script type="text/javascript" th:inline="javascript">
											var departmentName = /*[[${usr.department}]]*/;
											$.ajax({
												url:'/ewsd/qa_coordinator/number-of-ideas-without-comment?departmentName='+departmentName,
												data:'',
												method:'GET',
												success:function(data){
													$(".ideas-without-a-comment").text(data);
												}
											});
											setInterval(function(){
												var departmentName = /*[[${usr.department}]]*/;
												$.ajax({
													url:'/ewsd/qa_coordinator/number-of-ideas-without-comment?departmentName='+departmentName,
													data:'',
													method:'GET',
													success:function(data){
														$(".ideas-without-a-comment").text(data);
													}
												});
											}, 3000);	
											
											</script>
										</div>

										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="info-box">
												<span class="info-box-icon bg-aqua"><i
													class="fa fa-comments-o"></i></span>

												<div class="info-box-content">
													<span class="info-box-text">Anonymous comments</span> <span
														class="info-box-number anonymous-comments"></span>
												</div>
												<!-- /.info-box-content -->
											</div>
											<!-- /.info-box -->
											<script type="text/javascript" th:inline="javascript">
											var departmentName = /*[[${usr.department}]]*/;
											$.ajax({
												url:'/ewsd/qa_coordinator/number-of-anonymous-comments?departmentName='+departmentName,
												data:'',
												method:'GET',
												success:function(data){
													$(".anonymous-comments").text(data);
												}
											});
											setInterval(function(){
												var departmentName = /*[[${usr.department}]]*/;
												$.ajax({
													url:'/ewsd/qa_coordinator/number-of-anonymous-comments?departmentName='+departmentName,
													data:'',
													method:'GET',
													success:function(data){
														$(".anonymous-comments").text(data);
													}
												});
											}, 3000);	
											
											</script>
										</div>

										<br>

										<!-- ###############################################	Top 5 liked	########################################## -->
										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="box box-primary">
												<div class="box-body box-profile">

													<h4>Most popular ideas</h4>
													<hr>

													<div id="most-popular-ideas-container">
														
													</div>
													<script>
														$.get( '/ewsd/qa_coordinator/most-liked-ideas', function( data ) {
															  $("#most-popular-ideas-container").html("");
															  var content = "";
															  if(data.length<1){
																  content = '<p>No popular idea available.</p>';
															  }else{
																  if(data.length>4){
																	  for(i = 0; i<5; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }else{
																	  for(i = 0; i<data.length; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }
															  }
															  console.log(content);
															  $("#most-popular-ideas-container").html(content);
															});
														</script>
												</div>
												<!-- /.box-body -->
											</div>
										</div>
										
										<!-- ###############################################	Top 5 commented	########################################## -->
										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="box box-primary">
												<div class="box-body box-profile">

													<h4>Most commented ideas</h4>
													<hr>

													<div id="most-commented-ideas-container">
														
													</div>
													<script>
														
														$.get( '/ewsd/qa_coordinator/most-comented-ideas', function( data ) {
															  $("#most-commented-ideas-container").html("");
															  var content = "";
															  if(data.length<1){
																  content = '<p>No idea has any comment so far.</p>';
															  }else{
																  if(data.length>4){
																	  for(i = 0; i<5; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }else{
																	  for(i = 0; i<data.length; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }
															  }
															  
															  $("#most-commented-ideas-container").html(content);
															});
													</script>
												</div>
												<!-- /.box-body -->
											</div>
										</div>
										
										<!-- ###############################################	Top 5 viewd		########################################## -->
										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="box box-primary">
												<div class="box-body box-profile">

													<h4>Most viewed ideas</h4>
													<hr>

													<div id="most-viewed-ideas-container">
														
													</div>
													<script>
														$.get( '/ewsd/qa_coordinator/most-visited-ideas', function( data ) {
															  $("#most-viewed-ideas-container").html("");
															  var content = "";
															  if(data.length<1){
																  content = '<p>No idea was viewed by any user.</p>';
															  }else{
																  if(data.length>4){
																	  for(i = 0; i<5; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }else{
																	  for(i = 0; i<data.length; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }
															  }
															  
															  $("#most-viewed-ideas-container").html(content);
															});
														
														</script>
												</div>
												<!-- /.box-body -->
											</div>
										</div>
										
										<!-- ###############################################	Top 5 seen	########################################## -->
										<div class="col-md-4 col-sm-12 col-xs-12">
											<div class="box box-primary">
												<div class="box-body box-profile">

													<h4>Most seen by</h4>
													<hr>

													<div id="most-seen-ideas-container">
														
													</div>
													<script>
														$.get( '/ewsd/qa_coordinator/most-seen-ideas', function( data ) {
															  $("#most-seen-ideas-container").html("");
															  var content = "";
															  if(data.length<1){
																  content = '<p> No idea has been seen by anyone.</p>';
															  }else{
																  if(data.length>4){
																	  for(i = 0; i<5; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }else{
																	  for(i = 0; i<data.length; i++){
																		  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
																	  }
																  }
															  }
															  
															  $("#most-seen-ideas-container").html(content);
															});
														
// 														setInterval(function(){
// 															$.get( '/ewsd/qa_coordinator/most-liked-ideas', function( data ) {
// 																  $("#most-popular-ideas-container").html("");
// 																  var content = "";
// 																  if(data.length<1){
// 																	  content = '<p>No popular idea available.</p>';
// 																  }else{
// 																	  if(data.length>4){
// 																		  for(i = 0; i<5; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }else{
// 																		  for(i = 0; i<data.length; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }
// 																  }
// 																  console.log(content);
// 																  $("#most-popular-ideas-container").html(content);
// 																});
															
// 															$.get( '/ewsd/qa_coordinator/most-comented-ideas', function( data ) {
// 																  $("#most-commented-ideas-container").html("");
// 																  var content = "";
// 																  if(data.length<1){
// 																	  content = '<p>No idea has any comment so far.</p>';
// 																  }else{
// 																	  if(data.length>4){
// 																		  for(i = 0; i<5; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }else{
// 																		  for(i = 0; i<data.length; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }
// 																  }
																  
// 																  $("#most-commented-ideas-container").html(content);
// 																});
															
// 															$.get( '/ewsd/qa_coordinator/most-visited-ideas', function( data ) {
// 																  $("#most-viewed-ideas-container").html("");
// 																  var content = "";
// 																  if(data.length<1){
// 																	  content = '<p>No idea was viewed by any user.</p>';
// 																  }else{
// 																	  if(data.length>4){
// 																		  for(i = 0; i<5; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }else{
// 																		  for(i = 0; i<data.length; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }
// 																  }
																  
// 																  $("#most-viewed-ideas-container").html(content);
// 																});

// 															$.get( '/ewsd/qa_coordinator/most-seen-ideas', function( data ) {
// 																  $("#most-seen-ideas-container").html("");
// 																  var content = "";
// 																  if(data.length<1){
// 																	  content = '<p> No idea has been seen by anyone.</p>';
// 																  }else{
// 																	  if(data.length>4){
// 																		  for(i = 0; i<5; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span class="fa fa-file-text"></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }else{
// 																		  for(i = 0; i<data.length; i++){
// 																			  content+='<a href="/ewsd/ideas/'+data[i].idea.ideaId+'"><span></span>'+data[i].idea.ideaTitle+'</a><br>';
// 																		  }
// 																	  }
// 																  }
																  
// 																  $("#most-seen-ideas-container").html(content);
// 																});
// 														}, 1500);
													</script>
												</div>
												<!-- /.box-body -->
											</div>
										</div>
										
									</div>


								</div>
							</div>
							<!-- /.tab-content -->
						</div>
						<!-- /.nav-tabs-custom -->
					</div>

					<!-- /.col -->
				</div>

			</section>

			<!-- /.Ending Main content -->




		</div>
		<!-- /.content-wrapper -->
		<div id="footer"></div>
		<script type="text/javascript">
			$("#footer").load("/ewsd/footer");
		</script>

		<!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
		<div class="control-sidebar-bg"></div>
	</div>
	<!-- ./wrapper -->

	<!--/*/ <th:block th:include="@{includes/includes} :: js_components_bottom"></th:block> /*/-->
</body>
</html>
